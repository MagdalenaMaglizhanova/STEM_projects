import streamlit as st
import plotly.graph_objects as go
import numpy as np

st.set_page_config(page_title="STEM –°–æ–ª–∞—Ä–µ–Ω –ü–∞–Ω–µ–ª", layout="centered")

st.title("üîÜ –í–ª–∏—è–Ω–∏–µ –Ω–∞ —ä–≥—ä–ª–∞ –≤—ä—Ä—Ö—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Å–æ–ª–∞—Ä–µ–Ω –ø–∞–Ω–µ–ª")

# 1. –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç
with st.expander("üìò –ù–∞—É—á–∏ –ø–æ–≤–µ—á–µ"):
    st.markdown("""
    –°–ª—ä–Ω—á–µ–≤–∏—Ç–µ –ø–∞–Ω–µ–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞—Ç —Å–≤–µ—Ç–ª–∏–Ω–∞—Ç–∞ –≤ –µ–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞ –µ–Ω–µ—Ä–≥–∏—è.
    –ï–¥–∏–Ω –æ—Ç –∫–ª—é—á–æ–≤–∏—Ç–µ —Ñ–∞–∫—Ç–æ—Ä–∏, –∫–æ–π—Ç–æ –≤–ª–∏—è–µ –Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—Ç–∞ –∏–º, –µ **—ä–≥—ä–ª—ä—Ç –ø–æ–¥ –∫–æ–π—Ç–æ —Å–ª—ä–Ω—á–µ–≤–∏—Ç–µ –ª—ä—á–∏ –ø–æ–ø–∞–¥–∞—Ç –≤—ä—Ä—Ö—É –ø–∞–Ω–µ–ª–∞**.
    
    –ö–æ–ª–∫–æ—Ç–æ –ø–æ-–ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ —Å–≤–µ—Ç–ª–∏–Ω–∞—Ç–∞ –ø–∞–¥–∞ –≤—ä—Ä—Ö—É –ø–∞–Ω–µ–ª–∞, —Ç–æ–ª–∫–æ–≤–∞ –ø–æ-–≥–æ–ª—è–º–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–Ω–µ—Ä–≥–∏—è —Å–µ –∞–±—Å–æ—Ä–±–∏—Ä–∞.
    """)

# 2. –°–∏–º—É–ª–∞—Ü–∏—è —Å 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
st.subheader("üß™ –ò–∑–ø—Ä–æ–±–≤–∞–π –∫–∞–∫ —ä–≥—ä–ª—ä—Ç –≤–ª–∏—è–µ –Ω–∞ –µ–Ω–µ—Ä–≥–∏–π–Ω–∏—è –¥–æ–±–∏–≤")

angle = st.slider("–ò–∑–±–µ—Ä–∏ —ä–≥—ä–ª –Ω–∞ —Å–ª—ä–Ω—á–µ–≤–∏—Ç–µ –ª—ä—á–∏ —Å–ø—Ä—è–º–æ –ø–∞–Ω–µ–ª–∞ (–≤ –≥—Ä–∞–¥—É—Å–∏)", 0, 90, 45)

# –°–∏–º—É–ª–∏—Ä–∞–Ω –¥–æ–±–∏–≤ (–º–∞–∫—Å–∏–º–∞–ª–µ–Ω –ø—Ä–∏ 0 –≥—Ä–∞–¥—É—Å–∞)
energy_output = np.cos(np.radians(angle)) * 100  # % –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞

fig = go.Figure(data=[go.Surface(
    z=[[energy_output]*5]*5, 
    colorscale='YlOrRd',
    showscale=False
)])
fig.update_layout(
    title=f"–ï–Ω–µ—Ä–≥–∏–µ–Ω –¥–æ–±–∏–≤: {energy_output:.1f}%",
    scene=dict(
        zaxis_title='–î–æ–±–∏–≤ (%)',
        xaxis_visible=False,
        yaxis_visible=False,
        zaxis=dict(range=[0, 100])
    ),
    margin=dict(l=20, r=20, t=30, b=20)
)

st.plotly_chart(fig, use_container_width=True)

# 3. –•–∏–ø–æ—Ç–µ–∑–∞
st.subheader("üß† –§–æ—Ä–º—É–ª–∏—Ä–∞–π —Ö–∏–ø–æ—Ç–µ–∑–∞")
hypothesis = st.text_area("–ö–∞–∫–≤–æ —â–µ —Å—Ç–∞–Ω–µ, –∞–∫–æ –ø—Ä–æ–º–µ–Ω–∏–º —ä–≥—ä–ª–∞ –∏–ª–∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø–∞–Ω–µ–ª–∞?", "")

# 4. –ü—Ä–æ–µ–∫—Ç–Ω–∞ –∏–¥–µ—è
st.subheader("üõ†Ô∏è –¢–≤–æ—è—Ç–∞ –∏–¥–µ—è")
idea = st.text_area("–ò–∑–º–∏—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç, –≤ –∫–æ–π—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—à —Å–æ–ª–∞—Ä–Ω–∞ –µ–Ω–µ—Ä–≥–∏—è ‚Äì –Ω–∞–ø—Ä–∏–º–µ—Ä –∑–∞—Ä—è–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ª–∞–º–ø–∞ –∏ —Ç.–Ω.", "")

if st.button("üì§ –ò–∑–ø—Ä–∞—Ç–∏"):
    st.success("–ë—Ä–∞–≤–æ! –£—Å–ø–µ—à–Ω–æ —Ñ–æ—Ä–º—É–ª–∏—Ä–∞ —Ö–∏–ø–æ—Ç–µ–∑–∞ –∏ –∏–¥–µ—è –∑–∞ –ø—Ä–æ–µ–∫—Ç!")

---

